<div id="vm__vmID" style="height: 400px;width:100%"></div>
<div>
    <label style='margin-left: 30px; font-size:80%' id=vm_message__vmID></label>
</div>
<script>
(function(){
    var after_load=function(){
        var arr=_arr;
        var qp=_qp;
        //----------------------------------------------------------
        //var _res={}; try{ _res=JSON.parse(`_vm_res_`);}catch(e){console.log(e);} 
        //----------------------------------------------------------
        //var rid=undefined; try{ rid=qp.rid;}catch(e){} 
        var record=undefined; try{ record=qp.record;}catch(e){} 
        //----------------------------------------------------------
        const container = document.getElementById("vm__vmID");
        const options = {
            mode: "form",
            onEditable: function (node) {
            return {
                field: false,
                value: false
            };
            },
            mainMenuBar: false,
            enableSort: false, 
            enableTransform: false,
        };
        const editor = new JSONEditor(container, options);
        editor.set(record);
    }
    //----------------------------------------------------------
    if(!$vm.json_editor_loaded){
        $vm.loadCSS("https://cdn.jsdelivr.net/npm/jsoneditor@latest/dist/jsoneditor.min.css");
        $vm.loadScript("https://cdn.jsdelivr.net/npm/jsoneditor@latest/dist/jsoneditor.min.js",function(){
            $vm.json_editor_loaded=true;
            after_load();
        })
    }
    else after_load();
    //----------------------------------------------------------
})();    
</script>